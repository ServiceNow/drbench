# MCP servers configuration for supervisord

[program:mcp-init]
command=/start_scripts/init_mcp_servers.sh
autostart=true
autorestart=false
startretries=3
priority=35
depends_on=nextcloud-init
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:mcp-nextcloud]
command=poetry run python src/mcp_servers/nextcloud/server.py
directory=/app/drbench_tools/
environment=NEXTCLOUD_URL="http://localhost:8081",NEXTCLOUD_USER="admin",NEXTCLOUD_PASSWORD="admin_pwd",PYTHONPATH="/app/drbench_tools:/app/drbench_tools/src"
autostart=true
autorestart=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0
priority=40
depends_on=mcp-init

# Add more MCP servers below as needed
# [program:mcp-mattermost]
# command=python3 /var/www/src/mcp_servers/mattermost/main.py --transport http --host 0.0.0.0 --port 9001
# directory=/var/www/src
# environment=...
# autostart=true
# autorestart=true
# stdout_logfile=/var/log/mcp-mattermost.log
# stderr_logfile=/var/log/mcp-mattermost-error.log
# priority=41
# depends_on=mcp-init,mattermost
